# Lachesis Consensus Protocol

## Abstract

The lachesis protocol allows a group of participants to agree upon the occurence and ordering of events over a network. The particpants must know each other and agree upon the total number of participants in the network. Participants submit events to the network and the network comes to consensus on the ordering and validity of these events using the lachesis protocol.

## Participants

The participants in the network are mutually agreed upon. Participants are identified by a unique public key. Each particpant must store the public key and the IP address of every other participant in the network to disk. If the 

A participant may request another participant for a list of participants. The receving participant must respond with a list of participants it knows.
The response message must include the IP address and the public key of the participants signed by the responding participant.

A participant can create an event and send it to any other participant. The receiving participant must validate (see Creator Validation) the event and store the event if it has a valid signature. 

A participant may request another participant for a list of events the participant knows of. The participant must respond with the list of events it knows of.

## Events

### Event Block

An event block consists of:

1. Payload: the payload data 
2. Self ParentHash: the SHA3-256 hash of an event published by another participant
3. Other Parent-Hash: the SHA3-256 hash of previous event published by the participant
4. Creator's Signature: the SHA3-256 hash generated by signing 1, 2 and 3 with the participants private key 
5. Creator's Public Key: the public key associated with the particpants private key

The total size of the event block must be smaller than 1500 bytes, the maxiumum transmission unit (MTU) for ethernet, to prevent decreased performance from packet fragmentation.


## Communication between Participants

A participants can send a request to synchronise their knowledge of events with another participants knowledge of events. A particpant can send a sync events publish events, receive events, rece or respond to requests

Participants create events and send them to other participants. The lachesis consensus protocol determines the ordering and validity of these events. 


### Creator Validation

The receiving participant must check the creator's signature to ensure that it has been signed by a participant. Events with an invalid creator
signature should not be stored.

## Directed Acyclic Graph Of Events

The events form a directed acyclic graph. Each Event block must have 2 parents and a may have a child. Participants submit events to the network to be appended to the DAG.
 
## Root Event Blocks 

Participants publish events on the network which are appended to the event DAG. A root event block is the first event block that is connected to 2/3 of the participants as child in the DAG. since the last root event block. 

## Genesis Event Blocks

When a participant is added to the network, a genesis event block is created by that participant. The genesis event block does not have any parent events. The genesis event block acts as a root event block.

## Clotho Event Blocks 

A Clotho event block is a root event block that has been witnessed by 2/3 of the network participants. An event block has been witnessed by a participant if it is an ancestor to an event block created by that participant.

## Atropos Event Blocks

TO BE DONE

## Event Finality

Event that have occured prior to the Atropos block are final. 

TO BE DONE

## Determining order of occurence of events

TO BE DONE
